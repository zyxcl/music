import{u as e,a as t,_ as s}from"./music.8b7bcef0.js";import{g as a,h as l,Y as n,j as o,k as i,o as u,c as r,w as m,a as c,s as p,F as f,v as d,f as v,V as b}from"./index-173c4a47.js";import{_ as h}from"./uni-section.a7191c6c.js";import{a as _}from"./playlistCard.8b25f72d.js";import{_ as y}from"./plugin-vueexport-helper.1b428a4d.js";const k=y({__name:"comment",props:["visible","type","id"],emits:["update:visible"],setup(y,{emit:k}){const w=y;e();const g=a(null),j=a([]),x=a([]);l((async()=>{var e,t;if(w.visible){null==(e=g.value)||e.open();const t=await n(w.type,w.id);x.value=t.comments,j.value=t.hotComments}else null==(t=g.value)||t.close()}));const C=e=>{e.show||k("update:visible",!1)};return(e,a)=>{const l=o(i("uni-list-item"),t),n=o(i("uni-list"),s),y=o(i("uni-section"),h),k=b,w=o(i("uni-popup"),_);return u(),r(w,{ref_key:"popup",ref:g,type:"bottom","background-color":"#fff",onChange:C},{default:m((()=>[c(k,{"scroll-y":"",class:"list"},{default:m((()=>[j.value.length>0?(u(),r(y,{key:0,title:"热门评论",type:"line"},{default:m((()=>[c(n,null,{default:m((()=>[(u(!0),p(f,null,d(j.value,((e,t)=>(u(),r(l,{key:e.commentId,title:e.user.nickname,note:e.content,showArrow:"",thumb:e.user.avatarUrl,"thumb-size":"base",clickable:""},null,8,["title","note","thumb"])))),128))])),_:1})])),_:1})):v("",!0),c(y,{title:"最新评论",type:"line"},{default:m((()=>[c(n,null,{default:m((()=>[(u(!0),p(f,null,d(x.value,((e,t)=>(u(),r(l,{key:e.commentId,title:e.user.nickname,note:e.content,showArrow:"",thumb:e.user.avatarUrl,"thumb-size":"base",clickable:""},null,8,["title","note","thumb"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},512)}}},[["__scopeId","data-v-5443380e"]]);export{k as _};
