import{g as a,M as s,o as l,j as e,a as t,w as i,F as r,N as o,i as n,m as u,p as c,k as d,q as f,x as p,s as m,v,O as _,c as y}from"./index-daae3f6c.js";import{_ as g}from"./uni-icons.820866b5.js";import{u as b}from"./playlistCard.948cadd3.js";import{P as k}from"./playerBar.be10ef33.js";import{C as h}from"./comment.d2359ab1.js";import{_ as j}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-section.d563d328.js";const C=j({__name:"songlist",setup(j){const C=b(),x=a({}),w=a(!1),z=a("");s((a=>{z.value=a.id,(async a=>{const s=await o(a);x.value=s.playlist})(a.id)}));const F=()=>{const a=x.value.trackIds.map((a=>a.id));C.playAllSongs(a),f({url:"/pages/player/player"})};return(a,s)=>{const o=p,b=n,j=m(v("uni-icons"),g),I=_;return l(),e(r,null,[t(b,{class:"header"},{default:i((()=>[t(b,{class:"info"},{default:i((()=>[t(o,{src:x.value.coverImgUrl,mode:"widthFix"},null,8,["src"]),t(b,{class:"header-right"},{default:i((()=>[t(b,{class:"title"},{default:i((()=>[u(c(x.value.name),1)])),_:1}),t(b,{class:"creator"},{default:i((()=>{var a;return[t(o,{src:null==(a=x.value.creator)?void 0:a.avatarUrl,mode:"widthFix"},null,8,["src"]),t(b,{class:"nickname"},{default:i((()=>{var a;return[u(c(null==(a=x.value.creator)?void 0:a.nickname),1)]})),_:1})]})),_:1})])),_:1})])),_:1}),t(b,{class:"desc"},{default:i((()=>[u(c(x.value.description),1)])),_:1}),t(b,{class:"btns"},{default:i((()=>[t(b,{class:"btn"},{default:i((()=>[t(j,{type:"redo-filled",size:"20",color:"#ffffff"}),u(" "+c(x.value.shareCount),1)])),_:1}),t(b,{class:"btn",onClick:s[0]||(s[0]=a=>w.value=!0)},{default:i((()=>[t(j,{type:"chat-filled",size:"20",color:"#ffffff"}),u(" "+c(x.value.commentCount),1)])),_:1}),t(b,{class:"btn"},{default:i((()=>[t(j,{type:"folder-add-filled",size:"20",color:"#ffffff"}),u(" "+c(x.value.subscribedCount),1)])),_:1})])),_:1})])),_:1}),t(b,{class:"song-list"},{default:i((()=>[t(I,{size:"mini",onClick:F},{default:i((()=>[u("播放全部")])),_:1}),(l(!0),e(r,null,d(x.value.tracks,((a,s)=>(l(),y(b,{key:a.id,class:"song-item",onClick:s=>(a=>{C.addSong(a),f({url:"/pages/player/player"})})(a)},{default:i((()=>[u(c(s+1)+". "+c(a.name),1)])),_:2},1032,["onClick"])))),128))])),_:1}),t(k),t(h,{visible:w.value,"onUpdate:visible":s[1]||(s[1]=a=>w.value=a),type:"playlist",id:z.value},null,8,["visible","id"])],64)}}},[["__scopeId","data-v-42db3c9a"]]);export{C as default};
